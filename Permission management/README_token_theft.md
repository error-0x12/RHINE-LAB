# 系统权限获取工具（令牌窃取）

## 工具介绍

这是一个基于Python的系统权限获取工具，通过Windows API实现令牌窃取技术，能够获取具有SYSTEM权限的进程令牌，并使用该令牌创建新的特权进程或提升当前进程的权限。

## 技术原理

令牌窃取（Token Theft）是一种常见的Windows权限提升技术，其基本原理如下：

1. **启用调试权限**：程序首先尝试为当前进程启用`SeDebugPrivilege`权限，以便能够访问其他进程
2. **查找系统进程**：识别并打开一个以SYSTEM权限运行的进程（如winlogon.exe、lsass.exe等）
3. **窃取令牌**：从目标系统进程中获取访问令牌并创建副本
4. **创建特权进程**：使用窃取的令牌创建新的进程，该进程将拥有SYSTEM级别的权限

## 使用方法

### 前提条件

- Windows操作系统
- Python 3.x
- 必须以管理员身份运行程序

### 基本使用

直接运行程序（以管理员身份）：

```bash
python token_theft.py
```

这将默认创建一个具有SYSTEM权限的命令提示符窗口。

### 自定义命令

您也可以指定要以SYSTEM权限运行的命令：

```bash
python token_theft.py "powershell.exe"
python token_theft.py "notepad.exe"
```

## 安全警告

**重要：此工具仅用于合法的安全测试和研究目的。**

- 使用此工具必须获得适当的授权
- 未经授权使用此工具可能违反法律法规
- 在使用前请了解相关法律责任
- 不当使用可能导致系统安全受到威胁

## 注意事项

1. 工具需要以管理员身份运行才能正常工作
2. 某些安全软件可能会将此工具识别为恶意软件
3. 在生产环境中使用前，请进行充分测试
4. 此工具依赖Windows API，仅适用于Windows操作系统

## 免责声明

使用此工具的风险由使用者自行承担。作者不对因使用此工具而导致的任何直接或间接损失负责。